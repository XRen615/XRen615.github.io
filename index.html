<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.15" />

  <title>INCH2</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="http://xren615.github.io/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="http://xren615.github.io/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="http://xren615.github.io/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  <link rel="alternate" type="application/rss+xml" title="INCH2" href="http://xren615.github.ioindex.xml" />

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="http://xren615.github.ioimg/favicon.ico" type="image/x-icon" />

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="http://xren615.github.io/">INCH<sup>2</sup></a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://xren615.github.io/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://xren615.github.io/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://xren615.github.io/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    <li class="pure-menu-item">
      <a class="pure-menu-link" href="http://xren615.github.ioindex.xml"><i class="fa fa-rss fa-fw"></i>RSS</a>
    </li>

    

    
    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://500px.com/rubiconren" target="_blank"><i class="fa fa-500px fa-fw"></i>500px</a>
    </li>
    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://linkedin.com/in/xinyuyangren" target="_blank"><i class="fa fa-linkedin-square fa-fw"></i>LinkedIn</a>
    </li>
    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/xren615" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

  </ul>
</div>


  <div class="pure-g">
  <div class="small-print pure-u-1 pure-u-md-1-1">
    <small>&copy; 2016. All rights reserved.</small>
  </div>
  <div class="small-print pure-u-1 pure-u-md-1-1">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>INCH2</h1>
  <h2>CHEERS FOR LEANNES&#39; NEW CAREER!</h2>
</div>

<div class="content">
  
    <article>
  <header>
    <h2><a href="http://xren615.github.io/post/cheatSheet/">Python Data Engineering Cheat Sheet</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>02 Mar 2017, 17:40</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/"></a>
    
  </div>
  
  

</div>

  </header>

  <p>
  By my experience, some frequent needed utilities in Python data scripts —— good to have it by hand when you facing puzzle. ETL import matplotlib.pyplot as plt %matplotlib inline import numpy as np import pandas as pd import seaborn as sns Data Loading import pandas as pd # From CSV df = pd.read_csv(&quot;path&quot;) # From Excel df = pd.read_excel('/path') Indexing # Set index df = df.set_index('colName') # loc works on labels in the index s.loc[:3] # iloc works on the positions in the index (so it only takes integers) s.iloc[:3] Sorting # First c1, then c2 df = df.sort(['c1','c2'], ascending=[False,True]) Dropping # Drop columns (axis=0: column-wise; axis=1: row-wise) df = df.drop(['Cabin','Ticket'],axis = 1) # Drop rows df = df.drop(['label string']) # by index name df.drop(df.index[[1,3]]) # by row number (0-based) Slicing # Filter the dataset by a certain condition df = df[df.name != 'Tina'] Dealing with missings # Drop them df = df.dropna() # Fill them df.fillna(0) # fill by a number df.fillna(method='ffill') # propagates last valid observation forward to next valid df.fillna(method='bfill') Sampling df_GM_sample = df_GM.sample(n=None, frac=None) Apply function # axis=0: column-wise; axis=1: row-wise df.apply(func,axis = ) # apply to every element df.applymap(lambda x: ) Dealing with datetime # string to datetime df.dt = pd.to_datetime(df.dt, format='%Y%m%d') # get datetime indexes t = pd.DatetimeIndex(df.dt) hr = t.hour df['HourOfDay'] = hr month = t.month df['Month'] = month year = t.year df['Year'] = year # resample time series df = df.set_index('datetime') weekly_summary['speed'] = df.speed.resample('W').mean() weekly_summary['distance'] = df.distance.resample('W').sum() weekly_summary['cumulative_distance'] = df.cumulative_distance.resample('W').last() # generate given format string from datetime df['DOB1'] = df['DOB'].dt.strftime('%m/%d/%Y') Categorical to dummy dummiesT = pd.get_dummies(test['Embarked'],prefix = 'Embarked') test = pd.concat([test,dummiesT],axis = 1) test = test.drop('Embarked',axis =1) concat &amp; join # concat along rows df_new = pd.concat([df_a, df_b]) # join df = df1.join(df2, how='left', lsuffix='', rsuffix='', sort=False) Groupby df.groupby(by = 'Sex').mean() Differencing &amp; Cumulation # Differencing data['instantaneous'] = data.volume_out.diff() # Cumulation consum.loc[:,&quot;group&quot;] = consum[&quot;is_start_point&quot;].cumsum() Sliding Window Apply df[&quot;is_lucky_than_previous&quot;] =\ pd.rolling_apply(df.Survived, 2, lambda x: x[1] - x[0] == 1).fillna(1) Regular Expression def volCalc(row): name = row['tbordername'] try: vol = 0 p = re.compile(r'(\d+)ml') sizes = p.findall(name) for size in sizes: p1 = re.compile(size + r'ml\D+(\d)\D+') amount = p1.findall(name) if amount: vol += int(size)*int(amount[0]) else: vol += int(size)*1 return vol except: return 'N/A' Descriptive Stats Numerical stats df.describe() Correlation corr = df.corr() plt.matshow(df.corr()) Basic Charts # line chart fig = plt.figure(figsize=(12,6)) plt.plot(data.dateTime,data.volume_out) plt.title('title') # hist: numerical feature distribution df.Age.hist() # categorical feature distribution df.Survived.value_counts().plot(kind = 'bar') # Basic box plot sns.boxplot(consum.instantaneous,orient='v') plt.title('instantaneous consumption value distribution') # Box plot with hue sns.boxplot(x=&quot;Sex&quot;, y=&quot;Age&quot;,hue = 'Survived', data=df, palette=&quot;Set3&quot;) # Scatter plt.scatter(df.Fare,df.Survived) plt.xlabel('Fare') plt.ylabel('Survived?') # Regression chart sns.jointplot(x=&quot;duration&quot;, y=&quot;usage&quot;, kind = 'reg', data=filtered) plt.title('title') Feature Engineering Rescaling # (0,1) scaling # (X - X.min(axis=0)) / (X.max(axis=0) - X.min(axis=0)) from sklearn.preprocessing import MinMaxScaler scaler = MinMaxScaler(feature_range=(0, 1)) cols_to_norm = ['PassengerId','SibSp'] df[cols_to_norm] = df[cols_to_norm].apply(lambda x: scaler.fit_transform(x)) # Standardization: Zero mean and unit variance from sklearn.preprocessing import scale cols_to_norm = ['Age','SibSp'] df[cols_to_norm] = df[cols_to_norm].apply(lambda x: scale(x)) # Normalization: scaling individual observation (row) to have unit norm.
  </p>

  
  <footer>
    <a href="http://xren615.github.io/post/cheatSheet/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="http://xren615.github.io/post/feature_reducing/">特征选择：一份简明指南</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>05 Jan 2017, 19:19</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/data-science">data science</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/feature-selection">Feature selection</a>
    
  </div>
  
  

</div>

  </header>

  <p>
  介绍 数据工程项目往往严格遵循着riro (rubbish in, rubbish out) 的原则，所以我们经常说数据预处理是数据工程师或者数据科学家80%的工作，它保证了数据原材料的质量。而特征工程又至少占据了数据预处理的半壁江山，在实际的数据工程工作中，无论是出于解释数据或是防止过拟合的目的，特征选择都是很常见的工作。如何从成百上千个特征中发现其中哪些对结果最具影响，进而利用它们构建可靠的机器学习算法是特征选择工作的中心内容。在多次反复的工作后，结合书本，kaggle等线上资源以及与其他数据工程师的讨论，我决定写一篇简明的总结梳理特征选择工作的常见方法以及python实现。 总的来说，特征选择可以走两条路： 特征过滤（Filter methods）: 不需要结合特定的算法，简单快速，常用于预处理 包装筛选（Wrapper methods）: 将特征选择包装在某个算法内，常用于学习阶段 在scikit-learn环境中，特征选择拥有独立的包sklearn.feature_selection, 包含了在预处理和学习阶段不同层级的特征选择算法。 A. 特征过滤（Filter methods） (1) 方差阈（Variance Treshhold） 最为简单的特征选择方式之一，去除掉所有方差小于设定值的特征。 在sklearn中实现： from sklearn.feature_selection import VarianceThreshold VarianceThreshold is a simple baseline approach to feature selection. It removes all features whose variance doesn’t meet some threshold. By default, it removes all zero-variance features, i.e. features that have the same value in all samples. (2) 单变量特征选择 (Univariate feature selection) 基于单变量假设检验的特征选择，比如卡方检验（这里有一篇很好的博文用于回顾）是检测两变量是否相关的常用手段，那么就可以很自然的利用chi-square值来做降维，保留相关程度大的变量。 Univariate feature selection works by selecting the best features based on univariate statistical tests.
  </p>

  
  <footer>
    <a href="http://xren615.github.io/post/feature_reducing/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="http://xren615.github.io/post/sk2_rs/">SKII Recommender System Design</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>19 Dec 2016, 13:21</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/recommender-system">recommender system</a>
    
  </div>
  
  

</div>

  </header>

  <p>
  Abstract This prototype finished during P&amp;G Data Science Hackthon, Nov. 2016 in Cincinati, OH. This document briefly elaborates the design ideology for SKII onsite recommender system, leverage the demographics data, skin scan result and purchase history. Note. all the confidential data has been pre-processed. The Dataset The data used in this recommender system consists of the folling 3 parts: Demographics information (1 million rows * 10 columns), including gender, age, marital status etc..
  </p>

  
  <footer>
    <a href="http://xren615.github.io/post/sk2_rs/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="http://xren615.github.io/post/weibo_robot/">Turn Your Social Account into a Weather Robot</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>02 Jul 2016, 16:17</time>
  </div>

  

  
  
  
  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/sinaweibo-api">SinaWeibo API</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/weather">Weather</a>
    
  </div>
  
  

</div>

  </header>

  <p>
  Demo This is my recent play-for-fun, a tiny trick developing a weatherman robot on SNS. E.g. This robot will update the HK local weather everyday at 20:00 EDT and post it on my SinaWeibo account. Checklist A SinaWeibo developer account to use its post API (register here. You will need either a personal webpage or an application under development for registration). A WorldWeatherOnline API to update weather. They provide free API to fetch the weather worldwide and pack it in popular formats like xml, json or csv.
  </p>

  
  <footer>
    <a href="http://xren615.github.io/post/weibo_robot/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="http://xren615.github.io/post/gmixture/">Gaussian Mixture Models</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>16 Apr 2016, 15:27</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/gaussian-mixture-models">Gaussian Mixture Models</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/probabilistic-classification">Probabilistic classification</a>
    
  </div>
  
  

</div>

  </header>

  <p>
  A Gaussian mixture model is a probabilistic model that assumes all the data points are generated from a mixture of a finite number of Gaussian distributions with unknown parameters. Instead of having an output as cluster no. that a certain sample belongs to, Gaussian mixture model can additionally give an probability of this kind of clustering. In practice, expectation-maximization (EM) algorithm is often used for fitting mixture-of-Gaussian models. For better understand the theory of GMM this link could be followed.
  </p>

  
  <footer>
    <a href="http://xren615.github.io/post/gmixture/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="http://xren615.github.io/post/edge_detection/">A data-based approach for behavior motivation digging</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>15 Mar 2016, 15:08</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/noise-reduction">Noise reduction</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/edge-detection">Edge detection</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/feature-selection">Feature selection</a>
    
  </div>
  
  

</div>

  </header>

  <p>
  Key Points This chapter briefly elaborates how to analyze the motivation of people&rsquo;s operation on a system from the system electricity consumption signal and other data. Objective: understand how, and why occupants interact with the system. System: ventilation system in passive houses with adjustable flow rate option. Raw data: electricity consumption signal; environment sensor records (temperature, humidity, CO2 etc.); 3-min interval * 2 years (2013-2015): 325946 rows × 25 features. Technique: Noise reduction (Gaussian filter); Edge detection (1st derivative Gaussian filter), Feature selection (L1-penalized logistic regression, recursive feature elimination) Below Figure 1 shows the overall pipeline I designed.
  </p>

  
  <footer>
    <a href="http://xren615.github.io/post/edge_detection/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="http://xren615.github.io/post/scifi_chn/">中国科幻小说时间轴</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>07 Mar 2016, 15:03</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/literature">Literature</a>
    
  </div>
  
  

</div>

  </header>

  <p>
  This article is comment regarding Chinese sci-fi. 摘记与感想：姚海军：中国科幻的五个瞬间 『简要时间轴』幻想（清末民初-1949）YY小说 —— 『科学化』科普『17年文学』（1949-1966）—— 荒芜 （1966-1979） —— 黄金时期： 郭沫若『科学的春天』（1979-1983）叶永烈 —— 批判『科幻文学姓科还是姓文』， 荒芜 （1984-1997）：姓科就批你伪科学；姓文就批你『颠覆社会主义道德观』—— 转折：1997 世界科幻大会，北京，与宇航事业挂钩，重归主流 —— 『去科学化』回归文学：科技外壳与人性探索 王晋康 刘慈欣 —— 2005 『三体』开始连载 —— 2016 『三体』获『雨果奖』中国科幻文学首次实现输出，社会进入『全民科幻』时代 自豪：在最艰难的荒芜岁月里，感谢『科幻世界』（前『科学文艺』），『四川成都』一直是中国科幻最后一块坚守的阵地。然而需要警惕的是，如今科幻小说的全民热潮在某种程度上造就了科幻小说作者的浮躁，越来越多的作家，特别是年轻一代的写手，以拍电影卖版权为目标：与其说在创作文学作品，不如讲一开始就在写电影剧本。然而，就算大家再怎么喷孔二狗的12亿『三体』改编，包括我在内仍然会有千千万万的科幻迷愿意掏钱去电影院，就为见证这一历史性的时刻 —— 而且我愿意去十次 ╮(╯▽╰)╭
  </p>

  
</article>

  
    <article>
  <header>
    <h2><a href="http://xren615.github.io/post/develope_this_site/">建站記錄</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>06 Mar 2016, 01:27</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="http://xren615.github.iotags/site-maintenance">Site maintenance</a>
    
  </div>
  
  

</div>

  </header>

  <p>
  Documentation: how to initialize a basic static site like this with Github page, Hugo and Go. 記錄文檔：如何使用Github page，Hugo和Go便利地建造本站的基礎元素. System Enviroment OSX El Capitan 10.11.3 MacBook Pro（Retina，13 inch, early 2015) CPU: 2.7 GHz Intel Core i5 Graphics: Intel Iris Graphics 6100 1536 MB Steps Hugo is compiled by Go, thus before everything, install Go and set up its enviroment path. Follow this link to install Hugo and set up everything. You may also need another link.
  </p>

  
  <footer>
    <a href="http://xren615.github.io/post/develope_this_site/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  

  


</div>

</div>
</div>
<script src="http://xren615.github.iojs/ui.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76515451-1', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>

